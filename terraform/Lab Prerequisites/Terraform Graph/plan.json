{"format_version":"1.2","terraform_version":"1.6.2","variables":{"aws_profile":{"value":"AdministratorAccess-258306410398"},"aws_region":{"value":"us-east-1"},"env":{"value":{"dev":{"az":"us-east-1e","ip":"10.0.250.0/24"},"prod":{"az":"us-east-1a","ip":"10.0.150.0/24"}}},"environment":{"value":"dev"},"ip":{"value":{"dev":"10.0.250.0/24","prod":"10.0.150.0/24"}},"private_subnets":{"value":{"private_subnet_1":1,"private_subnet_2":2,"private_subnet_3":3}},"public_subnets":{"value":{"public_subnet_1":1,"public_subnet_2":2,"public_subnet_3":3}},"us-east-1-azs":{"value":["us-east-1a","us-east-1b","us-east-1c","us-east-1d","us-east-1e"]},"variables_sub_auto_ip":{"value":true},"variables_sub_az":{"value":"us-east-1a"},"variables_sub_cidr":{"value":"10.0.202.0/24"},"vpc_cidr":{"value":"10.0.0.0/16"},"vpc_name":{"value":"demo_vpc"}},"planned_values":{"outputs":{"public_dns":{"sensitive":false},"public_dns_server_subnet_1":{"sensitive":false},"public_ip":{"sensitive":false},"public_ip_server_subnet_1":{"sensitive":false},"size":{"sensitive":false,"type":"string","value":"t2.micro"}},"root_module":{"resources":[{"address":"aws_eip.nat_gateway_eip","mode":"managed","type":"aws_eip","name":"nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":{"Name":"demo_igw_eip"},"tags_all":{"Name":"demo_igw_eip"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_instance.ubuntu_server","mode":"managed","type":"aws_instance","name":"ubuntu_server","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-06aa3f7caf3a30282","associate_public_ip_address":true,"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","key_name":"MyAWSKey","launch_template":[],"source_dest_check":true,"tags":{"Name":"Ubuntu EC2 Server"},"tags_all":{"Name":"Ubuntu EC2 Server"},"timeouts":null,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"aws_instance.web_server","mode":"managed","type":"aws_instance","name":"web_server","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-06aa3f7caf3a30282","associate_public_ip_address":true,"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","key_name":"MyAWSKey","launch_template":[],"source_dest_check":true,"tags":{"App":"corp_api","AppTeam":"Cloud Team","CreatedBy":"terraform","Name":"ec2-dev-api-us-east-1a","Owner":"api_mgmt_dev","Service":"api_mgmt_dev"},"tags_all":{"App":"corp_api","AppTeam":"Cloud Team","CreatedBy":"terraform","Name":"ec2-dev-api-us-east-1a","Owner":"api_mgmt_dev","Service":"api_mgmt_dev"},"timeouts":null,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"aws_instance.web_server_2","mode":"managed","type":"aws_instance","name":"web_server_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-06aa3f7caf3a30282","credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","launch_template":[],"source_dest_check":true,"tags":{"Name":"Web EC2 Server 2"},"tags_all":{"Name":"Web EC2 Server 2"},"timeouts":null,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"aws_internet_gateway.internet_gateway","mode":"managed","type":"aws_internet_gateway","name":"internet_gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"demo_igw"},"tags_all":{"Name":"demo_igw"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_key_pair.generated","mode":"managed","type":"aws_key_pair","name":"generated","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"key_name":"MyAWSKey","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_nat_gateway.nat_gateway","mode":"managed","type":"aws_nat_gateway","name":"nat_gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connectivity_type":"public","tags":{"Name":"demo_nat_gateway"},"tags_all":{"Name":"demo_nat_gateway"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_route_table.private_route_table","mode":"managed","type":"aws_route_table","name":"private_route_table","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"demo_private_rtb","Terraform":"true"},"tags_all":{"Name":"demo_private_rtb","Terraform":"true"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"aws_route_table.public_route_table","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"demo_public_rtb","Terraform":"true"},"tags_all":{"Name":"demo_public_rtb","Terraform":"true"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"aws_route_table_association.private[\"private_subnet_1\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"aws_route_table_association.private[\"private_subnet_2\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"private_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"aws_route_table_association.private[\"private_subnet_3\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"private_subnet_3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"aws_route_table_association.public[\"public_subnet_1\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"public_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"aws_route_table_association.public[\"public_subnet_2\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"public_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"aws_route_table_association.public[\"public_subnet_3\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"public_subnet_3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"aws_security_group.ingress-ssh","mode":"managed","type":"aws_security_group","name":"ingress-ssh","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"allow-all-ssh","revoke_rules_on_delete":false,"tags":null,"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags_all":{}}},{"address":"aws_security_group.vpc-ping","mode":"managed","type":"aws_security_group","name":"vpc-ping","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"ICMP for Ping Access","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow all ip and ports outboun","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow ICMP Traffic","from_port":-1,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"icmp","security_groups":[],"self":false,"to_port":-1}],"name":"vpc-ping","revoke_rules_on_delete":false,"tags":null,"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags_all":{}}},{"address":"aws_security_group.vpc-web","mode":"managed","type":"aws_security_group","name":"vpc-web","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Web Traffic","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow all ip and ports outbound","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow Port 443","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Allow Port 80","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"vpc-web-default","revoke_rules_on_delete":false,"tags":null,"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags_all":{}}},{"address":"aws_subnet.list_subnet[\"dev\"]","mode":"managed","type":"aws_subnet","name":"list_subnet","index":"dev","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1e","cidr_block":"10.0.250.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_subnet.list_subnet[\"prod\"]","mode":"managed","type":"aws_subnet","name":"list_subnet","index":"prod","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.150.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_subnet.private_subnets[\"private_subnet_1\"]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"private_subnet_1","Terraform":"true"},"tags_all":{"Name":"private_subnet_1","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_subnet.private_subnets[\"private_subnet_2\"]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":"private_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"private_subnet_2","Terraform":"true"},"tags_all":{"Name":"private_subnet_2","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_subnet.private_subnets[\"private_subnet_3\"]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":"private_subnet_3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1d","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"private_subnet_3","Terraform":"true"},"tags_all":{"Name":"private_subnet_3","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_subnet.public_subnets[\"public_subnet_1\"]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":"public_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.101.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"public_subnet_1","Terraform":"true"},"tags_all":{"Name":"public_subnet_1","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_subnet.public_subnets[\"public_subnet_2\"]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":"public_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","cidr_block":"10.0.102.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"public_subnet_2","Terraform":"true"},"tags_all":{"Name":"public_subnet_2","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_subnet.public_subnets[\"public_subnet_3\"]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":"public_subnet_3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1d","cidr_block":"10.0.103.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"public_subnet_3","Terraform":"true"},"tags_all":{"Name":"public_subnet_3","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"demo_environment","Name":"demo_vpc","Terraform":"true"},"tags_all":{"Environment":"demo_environment","Name":"demo_vpc","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"random_string.random","mode":"managed","type":"random_string","name":"random","provider_name":"registry.terraform.io/hashicorp/random","schema_version":1,"values":{"keepers":null,"length":10,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"override_special":null,"special":true,"upper":true},"sensitive_values":{}},{"address":"tls_private_key.generated","mode":"managed","type":"tls_private_key","name":"generated","provider_name":"registry.terraform.io/hashicorp/tls","schema_version":0,"values":{"algorithm":"RSA","ecdsa_curve":"P224","rsa_bits":2048},"sensitive_values":{}}],"child_modules":[{"resources":[{"address":"module.server.aws_instance.web","mode":"managed","type":"aws_instance","name":"web","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-06aa3f7caf3a30282","credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","launch_template":[],"source_dest_check":true,"tags":{"Environment":"Training","Name":"Server from Module"},"tags_all":{"Environment":"Training","Name":"Server from Module"},"timeouts":null,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}],"address":"module.server"},{"resources":[{"address":"module.server_subnet_1.aws_instance.web","mode":"managed","type":"aws_instance","name":"web","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-06aa3f7caf3a30282","associate_public_ip_address":true,"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","key_name":"MyAWSKey","launch_template":[],"source_dest_check":true,"tags":{"Environment":"Training","Name":"Web Server from Module"},"tags_all":{"Environment":"Training","Name":"Web Server from Module"},"timeouts":null,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}],"address":"module.server_subnet_1"}]}},"resource_changes":[{"address":"aws_eip.nat_gateway_eip","mode":"managed","type":"aws_eip","name":"nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":{"Name":"demo_igw_eip"},"tags_all":{"Name":"demo_igw_eip"},"timeouts":null},"after_unknown":{"allocation_id":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"domain":true,"id":true,"instance":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{},"vpc":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_instance.ubuntu_server","mode":"managed","type":"aws_instance","name":"ubuntu_server","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-06aa3f7caf3a30282","associate_public_ip_address":true,"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","key_name":"MyAWSKey","launch_template":[],"source_dest_check":true,"tags":{"Name":"Ubuntu EC2 Server"},"tags_all":{"Name":"Ubuntu EC2 Server"},"timeouts":null,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_instance.web_server","mode":"managed","type":"aws_instance","name":"web_server","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-06aa3f7caf3a30282","associate_public_ip_address":true,"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","key_name":"MyAWSKey","launch_template":[],"source_dest_check":true,"tags":{"App":"corp_api","AppTeam":"Cloud Team","CreatedBy":"terraform","Name":"ec2-dev-api-us-east-1a","Owner":"api_mgmt_dev","Service":"api_mgmt_dev"},"tags_all":{"App":"corp_api","AppTeam":"Cloud Team","CreatedBy":"terraform","Name":"ec2-dev-api-us-east-1a","Owner":"api_mgmt_dev","Service":"api_mgmt_dev"},"timeouts":null,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_instance.web_server_2","mode":"managed","type":"aws_instance","name":"web_server_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-06aa3f7caf3a30282","credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","launch_template":[],"source_dest_check":true,"tags":{"Name":"Web EC2 Server 2"},"tags_all":{"Name":"Web EC2 Server 2"},"timeouts":null,"volume_tags":null},"after_unknown":{"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"key_name":true,"launch_template":[],"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_internet_gateway.internet_gateway","mode":"managed","type":"aws_internet_gateway","name":"internet_gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"demo_igw"},"tags_all":{"Name":"demo_igw"}},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_key_pair.generated","mode":"managed","type":"aws_key_pair","name":"generated","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"key_name":"MyAWSKey","tags":null},"after_unknown":{"arn":true,"fingerprint":true,"id":true,"key_name_prefix":true,"key_pair_id":true,"public_key":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_nat_gateway.nat_gateway","mode":"managed","type":"aws_nat_gateway","name":"nat_gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connectivity_type":"public","tags":{"Name":"demo_nat_gateway"},"tags_all":{"Name":"demo_nat_gateway"}},"after_unknown":{"allocation_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"subnet_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_route_table.private_route_table","mode":"managed","type":"aws_route_table","name":"private_route_table","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"demo_private_rtb","Terraform":"true"},"tags_all":{"Name":"demo_private_rtb","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"aws_route_table.public_route_table","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"demo_public_rtb","Terraform":"true"},"tags_all":{"Name":"demo_public_rtb","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"aws_route_table_association.private[\"private_subnet_1\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.private[\"private_subnet_2\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"private_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.private[\"private_subnet_3\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"private_subnet_3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.public[\"public_subnet_1\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"public_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.public[\"public_subnet_2\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"public_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.public[\"public_subnet_3\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"public_subnet_3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_security_group.ingress-ssh","mode":"managed","type":"aws_security_group","name":"ingress-ssh","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"allow-all-ssh","revoke_rules_on_delete":false,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags_all":{}}}},{"address":"aws_security_group.vpc-ping","mode":"managed","type":"aws_security_group","name":"vpc-ping","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"ICMP for Ping Access","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow all ip and ports outboun","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow ICMP Traffic","from_port":-1,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"icmp","security_groups":[],"self":false,"to_port":-1}],"name":"vpc-ping","revoke_rules_on_delete":false,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags_all":{}}}},{"address":"aws_security_group.vpc-web","mode":"managed","type":"aws_security_group","name":"vpc-web","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Web Traffic","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow all ip and ports outbound","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow Port 443","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Allow Port 80","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"vpc-web-default","revoke_rules_on_delete":false,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags_all":{}}}},{"address":"aws_subnet.list_subnet[\"dev\"]","mode":"managed","type":"aws_subnet","name":"list_subnet","index":"dev","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1e","cidr_block":"10.0.250.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_subnet.list_subnet[\"prod\"]","mode":"managed","type":"aws_subnet","name":"list_subnet","index":"prod","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.150.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_subnet.private_subnets[\"private_subnet_1\"]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":"private_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"private_subnet_1","Terraform":"true"},"tags_all":{"Name":"private_subnet_1","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.private_subnets[\"private_subnet_2\"]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":"private_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"private_subnet_2","Terraform":"true"},"tags_all":{"Name":"private_subnet_2","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.private_subnets[\"private_subnet_3\"]","mode":"managed","type":"aws_subnet","name":"private_subnets","index":"private_subnet_3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1d","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"private_subnet_3","Terraform":"true"},"tags_all":{"Name":"private_subnet_3","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.public_subnets[\"public_subnet_1\"]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":"public_subnet_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.101.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"public_subnet_1","Terraform":"true"},"tags_all":{"Name":"public_subnet_1","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.public_subnets[\"public_subnet_2\"]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":"public_subnet_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1c","cidr_block":"10.0.102.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"public_subnet_2","Terraform":"true"},"tags_all":{"Name":"public_subnet_2","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.public_subnets[\"public_subnet_3\"]","mode":"managed","type":"aws_subnet","name":"public_subnets","index":"public_subnet_3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1d","cidr_block":"10.0.103.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"public_subnet_3","Terraform":"true"},"tags_all":{"Name":"public_subnet_3","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"demo_environment","Name":"demo_vpc","Terraform":"true"},"tags_all":{"Environment":"demo_environment","Name":"demo_vpc","Terraform":"true"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"random_string.random","mode":"managed","type":"random_string","name":"random","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"length":10,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"override_special":null,"special":true,"upper":true},"after_unknown":{"id":true,"result":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"tls_private_key.generated","mode":"managed","type":"tls_private_key","name":"generated","provider_name":"registry.terraform.io/hashicorp/tls","change":{"actions":["create"],"before":null,"after":{"algorithm":"RSA","ecdsa_curve":"P224","rsa_bits":2048},"after_unknown":{"id":true,"private_key_pem":true,"public_key_fingerprint_md5":true,"public_key_openssh":true,"public_key_pem":true},"before_sensitive":false,"after_sensitive":{"private_key_pem":true}}},{"address":"module.server.aws_instance.web","module_address":"module.server","mode":"managed","type":"aws_instance","name":"web","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-06aa3f7caf3a30282","credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","launch_template":[],"source_dest_check":true,"tags":{"Environment":"Training","Name":"Server from Module"},"tags_all":{"Environment":"Training","Name":"Server from Module"},"timeouts":null,"volume_tags":null},"after_unknown":{"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"key_name":true,"launch_template":[],"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.server_subnet_1.aws_instance.web","module_address":"module.server_subnet_1","mode":"managed","type":"aws_instance","name":"web","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-06aa3f7caf3a30282","associate_public_ip_address":true,"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t2.micro","key_name":"MyAWSKey","launch_template":[],"source_dest_check":true,"tags":{"Environment":"Training","Name":"Web Server from Module"},"tags_all":{"Environment":"Training","Name":"Web Server from Module"},"timeouts":null,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}}],"output_changes":{"public_dns":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"public_dns_server_subnet_1":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"public_ip":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"public_ip_server_subnet_1":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"size":{"actions":["create"],"before":null,"after":"t2.micro","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.6.2","values":{"outputs":{"size":{"sensitive":false,"value":"t2.micro","type":"string"}},"root_module":{"resources":[{"address":"data.aws_ami.ubuntu","mode":"data","type":"aws_ami","name":"ubuntu","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architecture":"x86_64","arn":"arn:aws:ec2:us-east-1::image/ami-06aa3f7caf3a30282","block_device_mappings":[{"device_name":"/dev/sda1","ebs":{"delete_on_termination":"true","encrypted":"false","iops":"0","snapshot_id":"snap-0c031a46fe3d3cc7c","throughput":"0","volume_size":"8","volume_type":"gp2"},"no_device":"","virtual_name":""},{"device_name":"/dev/sdb","ebs":{},"no_device":"","virtual_name":"ephemeral0"},{"device_name":"/dev/sdc","ebs":{},"no_device":"","virtual_name":"ephemeral1"}],"creation_date":"2023-10-26T04:01:02.000Z","description":"Canonical, Ubuntu, 20.04 LTS, amd64 focal image build on 2023-10-25","ena_support":true,"executable_users":null,"filter":[{"name":"name","values":["ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-*"]},{"name":"virtualization-type","values":["hvm"]}],"hypervisor":"xen","id":"ami-06aa3f7caf3a30282","image_id":"ami-06aa3f7caf3a30282","image_location":"amazon/ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-20231025","image_owner_alias":"amazon","image_type":"machine","kernel_id":null,"most_recent":true,"name":"ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-20231025","name_regex":null,"owner_id":"099720109477","owners":["099720109477"],"platform":null,"platform_details":"Linux/UNIX","product_codes":[],"public":true,"ramdisk_id":null,"root_device_name":"/dev/sda1","root_device_type":"ebs","root_snapshot_id":"snap-0c031a46fe3d3cc7c","sriov_net_support":"simple","state":"available","state_reason":{"code":"UNSET","message":"UNSET"},"tags":{},"usage_operation":"RunInstances","virtualization_type":"hvm"},"sensitive_values":{"block_device_mappings":[{"ebs":{}},{"ebs":{}},{"ebs":{}}],"filter":[{"values":[false]},{"values":[false]}],"owners":[false],"product_codes":[],"state_reason":{},"tags":{}}},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["us-east-1"],"id":"us-east-1","names":["us-east-1a","us-east-1b","us-east-1c","us-east-1d","us-east-1e","us-east-1f"],"state":null,"zone_ids":["use1-az6","use1-az1","use1-az2","use1-az4","use1-az3","use1-az5"]},"sensitive_values":{"group_names":[false],"names":[false,false,false,false,false,false],"zone_ids":[false,false,false,false,false,false]}},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"US East (N. Virginia)","endpoint":"ec2.us-east-1.amazonaws.com","id":"us-east-1","name":"us-east-1"},"sensitive_values":{}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 3.0","expressions":{"profile":{"references":["var.aws_profile"]},"region":{"constant_value":"us-east-1"}}},"http":{"name":"http","full_name":"registry.terraform.io/hashicorp/http","version_constraint":"2.1.0"},"local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"2.1.0"},"random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random","version_constraint":"3.1.0"},"tls":{"name":"tls","full_name":"registry.terraform.io/hashicorp/tls","version_constraint":"3.1.0"}},"root_module":{"outputs":{"public_dns":{"expression":{"references":["module.server.public_dns","module.server"]}},"public_dns_server_subnet_1":{"expression":{"references":["module.server_subnet_1.public_dns","module.server_subnet_1"]}},"public_ip":{"expression":{"references":["module.server.public_ip","module.server"]}},"public_ip_server_subnet_1":{"expression":{"references":["module.server_subnet_1.public_ip","module.server_subnet_1"]}},"size":{"expression":{"references":["module.server.size","module.server"]}}},"resources":[{"address":"aws_eip.nat_gateway_eip","mode":"managed","type":"aws_eip","name":"nat_gateway_eip","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"demo_igw_eip"}}},"schema_version":0,"depends_on":["aws_internet_gateway.internet_gateway"]},{"address":"aws_instance.ubuntu_server","mode":"managed","type":"aws_instance","name":"ubuntu_server","provider_config_key":"aws","provisioners":[{"type":"remote-exec","expressions":{"inline":{"constant_value":["sudo rm -rf /tmp","sudo git clone https://github.com/hashicorp/demo-terraform-101 /tmp","sudo sh /tmp/assets/setup-web.sh"]}}}],"expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"associate_public_ip_address":{"constant_value":true},"instance_type":{"constant_value":"t2.micro"},"key_name":{"references":["aws_key_pair.generated.key_name","aws_key_pair.generated"]},"security_groups":{"references":["aws_security_group.vpc-ping.id","aws_security_group.vpc-ping","aws_security_group.ingress-ssh.id","aws_security_group.ingress-ssh","aws_security_group.vpc-web.id","aws_security_group.vpc-web"]},"subnet_id":{"references":["aws_subnet.public_subnets[\"public_subnet_1\"].id","aws_subnet.public_subnets[\"public_subnet_1\"]","aws_subnet.public_subnets"]},"tags":{"constant_value":{"Name":"Ubuntu EC2 Server"}}},"schema_version":1},{"address":"aws_instance.web_server","mode":"managed","type":"aws_instance","name":"web_server","provider_config_key":"aws","provisioners":[{"type":"remote-exec","expressions":{"inline":{"constant_value":["sudo rm -rf /tmp","sudo git clone https://github.com/hashicorp/demo-terraform-101 /tmp","sudo sh /tmp/assets/setup-web.sh"]}}}],"expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"associate_public_ip_address":{"constant_value":true},"instance_type":{"constant_value":"t2.micro"},"key_name":{"references":["aws_key_pair.generated.key_name","aws_key_pair.generated"]},"security_groups":{"references":["aws_security_group.vpc-ping.id","aws_security_group.vpc-ping","aws_security_group.ingress-ssh.id","aws_security_group.ingress-ssh","aws_security_group.vpc-web.id","aws_security_group.vpc-web"]},"subnet_id":{"references":["aws_subnet.public_subnets[\"public_subnet_1\"].id","aws_subnet.public_subnets[\"public_subnet_1\"]","aws_subnet.public_subnets"]},"tags":{"references":["local.common_tags"]}},"schema_version":1},{"address":"aws_instance.web_server_2","mode":"managed","type":"aws_instance","name":"web_server_2","provider_config_key":"aws","expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"instance_type":{"constant_value":"t2.micro"},"subnet_id":{"references":["aws_subnet.public_subnets[\"public_subnet_2\"].id","aws_subnet.public_subnets[\"public_subnet_2\"]","aws_subnet.public_subnets"]},"tags":{"constant_value":{"Name":"Web EC2 Server 2"}}},"schema_version":1},{"address":"aws_internet_gateway.internet_gateway","mode":"managed","type":"aws_internet_gateway","name":"internet_gateway","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"demo_igw"}},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":0},{"address":"aws_key_pair.generated","mode":"managed","type":"aws_key_pair","name":"generated","provider_config_key":"aws","expressions":{"key_name":{"constant_value":"MyAWSKey"},"public_key":{"references":["tls_private_key.generated.public_key_openssh","tls_private_key.generated"]}},"schema_version":1},{"address":"aws_nat_gateway.nat_gateway","mode":"managed","type":"aws_nat_gateway","name":"nat_gateway","provider_config_key":"aws","expressions":{"allocation_id":{"references":["aws_eip.nat_gateway_eip.id","aws_eip.nat_gateway_eip"]},"subnet_id":{"references":["aws_subnet.public_subnets[\"public_subnet_1\"].id","aws_subnet.public_subnets[\"public_subnet_1\"]","aws_subnet.public_subnets"]},"tags":{"constant_value":{"Name":"demo_nat_gateway"}}},"schema_version":0,"depends_on":["aws_subnet.public_subnets"]},{"address":"aws_route_table.private_route_table","mode":"managed","type":"aws_route_table","name":"private_route_table","provider_config_key":"aws","expressions":{"route":{"references":["aws_nat_gateway.nat_gateway.id","aws_nat_gateway.nat_gateway"]},"tags":{"constant_value":{"Name":"demo_private_rtb","Terraform":"true"}},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":0},{"address":"aws_route_table.public_route_table","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.internet_gateway.id","aws_internet_gateway.internet_gateway"]},"tags":{"constant_value":{"Name":"demo_public_rtb","Terraform":"true"}},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":0},{"address":"aws_route_table_association.private","mode":"managed","type":"aws_route_table_association","name":"private","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private_route_table.id","aws_route_table.private_route_table"]},"subnet_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["aws_subnet.private_subnets"]},"depends_on":["aws_subnet.private_subnets"]},{"address":"aws_route_table_association.public","mode":"managed","type":"aws_route_table_association","name":"public","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public_route_table.id","aws_route_table.public_route_table"]},"subnet_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["aws_subnet.public_subnets"]},"depends_on":["aws_subnet.public_subnets"]},{"address":"aws_security_group.ingress-ssh","mode":"managed","type":"aws_security_group","name":"ingress-ssh","provider_config_key":"aws","expressions":{"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":22,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":22}]},"name":{"constant_value":"allow-all-ssh"},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_security_group.vpc-ping","mode":"managed","type":"aws_security_group","name":"vpc-ping","provider_config_key":"aws","expressions":{"description":{"constant_value":"ICMP for Ping Access"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow all ip and ports outboun","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow ICMP Traffic","from_port":-1,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"icmp","security_groups":null,"self":null,"to_port":-1}]},"name":{"constant_value":"vpc-ping"},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_security_group.vpc-web","mode":"managed","type":"aws_security_group","name":"vpc-web","provider_config_key":"aws","expressions":{"description":{"constant_value":"Web Traffic"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow all ip and ports outbound","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow Port 80","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":80},{"cidr_blocks":["0.0.0.0/0"],"description":"Allow Port 443","from_port":443,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":443}]},"name":{"references":["terraform.workspace"]},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_subnet.list_subnet","mode":"managed","type":"aws_subnet","name":"list_subnet","provider_config_key":"aws","expressions":{"availability_zone":{"references":["each.value.az","each.value"]},"cidr_block":{"references":["each.value.ip","each.value"]},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1,"for_each_expression":{"references":["var.env"]}},{"address":"aws_subnet.private_subnets","mode":"managed","type":"aws_subnet","name":"private_subnets","provider_config_key":"aws","expressions":{"availability_zone":{"references":["data.aws_availability_zones.available.names","data.aws_availability_zones.available","each.value"]},"cidr_block":{"references":["var.vpc_cidr","each.value"]},"tags":{"references":["each.key"]},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1,"for_each_expression":{"references":["var.private_subnets"]}},{"address":"aws_subnet.public_subnets","mode":"managed","type":"aws_subnet","name":"public_subnets","provider_config_key":"aws","expressions":{"availability_zone":{"references":["data.aws_availability_zones.available.names","data.aws_availability_zones.available","each.value"]},"cidr_block":{"references":["var.vpc_cidr","each.value"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"references":["each.key"]},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1,"for_each_expression":{"references":["var.public_subnets"]}},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc_cidr"]},"enable_dns_hostnames":{"constant_value":true},"tags":{"references":["var.vpc_name"]}},"schema_version":1},{"address":"random_string.random","mode":"managed","type":"random_string","name":"random","provider_config_key":"random","expressions":{"length":{"constant_value":10}},"schema_version":1},{"address":"tls_private_key.generated","mode":"managed","type":"tls_private_key","name":"generated","provider_config_key":"tls","expressions":{"algorithm":{"constant_value":"RSA"}},"schema_version":0},{"address":"data.aws_ami.ubuntu","mode":"data","type":"aws_ami","name":"ubuntu","provider_config_key":"aws","expressions":{"filter":[{"name":{"constant_value":"name"},"values":{"constant_value":["ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-*"]}},{"name":{"constant_value":"virtualization-type"},"values":{"constant_value":["hvm"]}}],"most_recent":{"constant_value":true},"owners":{"constant_value":["099720109477"]}},"schema_version":0},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"aws","schema_version":0},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_config_key":"aws","schema_version":0}],"module_calls":{"server":{"source":"./modules/server","expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"security_groups":{"references":["aws_security_group.vpc-ping.id","aws_security_group.vpc-ping","aws_security_group.ingress-ssh.id","aws_security_group.ingress-ssh","aws_security_group.vpc-web.id","aws_security_group.vpc-web"]},"size":{"constant_value":"t2.micro"},"subnet_id":{"references":["aws_subnet.public_subnets[\"public_subnet_3\"].id","aws_subnet.public_subnets[\"public_subnet_3\"]","aws_subnet.public_subnets"]}},"module":{"outputs":{"public_dns":{"expression":{"references":["aws_instance.web.public_dns","aws_instance.web"]}},"public_ip":{"expression":{"references":["aws_instance.web.public_ip","aws_instance.web"]},"description":"IP Address of server built with Server Module"},"size":{"expression":{"references":["aws_instance.web.instance_type","aws_instance.web"]},"description":"Size of server built with Server Module"}},"resources":[{"address":"aws_instance.web","mode":"managed","type":"aws_instance","name":"web","provider_config_key":"aws","expressions":{"ami":{"references":["var.ami"]},"instance_type":{"references":["var.size"]},"subnet_id":{"references":["var.subnet_id"]},"tags":{"constant_value":{"Environment":"Training","Name":"Server from Module"}},"vpc_security_group_ids":{"references":["var.security_groups"]}},"schema_version":1}],"variables":{"ami":{},"security_groups":{},"size":{},"subnet_id":{}}}},"server_subnet_1":{"source":"./modules/web_server","expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"key_name":{"references":["aws_key_pair.generated.key_name","aws_key_pair.generated"]},"private_key":{"references":["tls_private_key.generated.private_key_pem","tls_private_key.generated"]},"security_groups":{"references":["aws_security_group.vpc-ping.id","aws_security_group.vpc-ping","aws_security_group.ingress-ssh.id","aws_security_group.ingress-ssh","aws_security_group.vpc-web.id","aws_security_group.vpc-web"]},"subnet_id":{"references":["aws_subnet.public_subnets[\"public_subnet_1\"].id","aws_subnet.public_subnets[\"public_subnet_1\"]","aws_subnet.public_subnets"]},"user":{"constant_value":"ubuntu"}},"module":{"outputs":{"public_dns":{"expression":{"references":["aws_instance.web.public_dns","aws_instance.web"]}},"public_ip":{"expression":{"references":["aws_instance.web.public_ip","aws_instance.web"]}}},"resources":[{"address":"aws_instance.web","mode":"managed","type":"aws_instance","name":"web","provider_config_key":"aws","provisioners":[{"type":"remote-exec","expressions":{"inline":{"constant_value":["sudo rm -rf /tmp","sudo git clone https://github.com/hashicorp/demo-terraform-101 /tmp","sudo sh /tmp/assets/setup-web.sh"]}}}],"expressions":{"ami":{"references":["var.ami"]},"associate_public_ip_address":{"constant_value":true},"instance_type":{"references":["var.size"]},"key_name":{"references":["var.key_name"]},"subnet_id":{"references":["var.subnet_id"]},"tags":{"constant_value":{"Environment":"Training","Name":"Web Server from Module"}},"vpc_security_group_ids":{"references":["var.security_groups"]}},"schema_version":1}],"variables":{"ami":{},"key_name":{},"private_key":{},"security_groups":{},"size":{"default":"t2.micro"},"subnet_id":{},"user":{}}}}},"variables":{"aws_profile":{"default":"AdministratorAccess-258306410398"},"aws_region":{"default":"us-east-1"},"env":{"default":{"dev":{"az":"us-east-1e","ip":"10.0.250.0/24"},"prod":{"az":"us-east-1a","ip":"10.0.150.0/24"}}},"environment":{"default":"dev","description":"Environment for deployment"},"ip":{"default":{"dev":"10.0.250.0/24","prod":"10.0.150.0/24"}},"private_subnets":{"default":{"private_subnet_1":1,"private_subnet_2":2,"private_subnet_3":3}},"public_subnets":{"default":{"public_subnet_1":1,"public_subnet_2":2,"public_subnet_3":3}},"us-east-1-azs":{"default":["us-east-1a","us-east-1b","us-east-1c","us-east-1d","us-east-1e"]},"variables_sub_auto_ip":{"default":true,"description":"Set Automatic IP Assigment for Variables Subnet"},"variables_sub_az":{"default":"us-east-1a","description":"Availability Zone used for Variables Subnet"},"variables_sub_cidr":{"default":"10.0.202.0/24","description":"CIDR Block for the Variables Subnet"},"vpc_cidr":{"default":"10.0.0.0/16"},"vpc_name":{"default":"demo_vpc"}}}},"relevant_attributes":[{"resource":"module.server_subnet_1.aws_instance.web","attribute":["public_dns"]},{"resource":"module.server.aws_instance.web","attribute":["instance_type"]},{"resource":"aws_subnet.private_subnets","attribute":[]},{"resource":"aws_internet_gateway.internet_gateway","attribute":["id"]},{"resource":"aws_route_table.public_route_table","attribute":["id"]},{"resource":"aws_nat_gateway.nat_gateway","attribute":["id"]},{"resource":"aws_key_pair.generated","attribute":["key_name"]},{"resource":"aws_subnet.public_subnets[\"public_subnet_2\"]","attribute":["id"]},{"resource":"aws_route_table.private_route_table","attribute":["id"]},{"resource":"aws_security_group.vpc-web","attribute":["id"]},{"resource":"module.server_subnet_1.aws_instance.web","attribute":["public_ip"]},{"resource":"aws_subnet.public_subnets[\"public_subnet_3\"]","attribute":["id"]},{"resource":"aws_security_group.ingress-ssh","attribute":["id"]},{"resource":"aws_subnet.public_subnets","attribute":[]},{"resource":"tls_private_key.generated","attribute":["public_key_openssh"]},{"resource":"aws_vpc.vpc","attribute":["id"]},{"resource":"aws_eip.nat_gateway_eip","attribute":["id"]},{"resource":"data.aws_ami.ubuntu","attribute":["id"]},{"resource":"aws_security_group.vpc-ping","attribute":["id"]},{"resource":"data.aws_availability_zones.available","attribute":["names"]},{"resource":"aws_subnet.public_subnets[\"public_subnet_1\"]","attribute":["id"]},{"resource":"module.server.aws_instance.web","attribute":["public_ip"]},{"resource":"module.server.aws_instance.web","attribute":["public_dns"]}],"timestamp":"2023-10-29T23:30:39Z","errored":false}
